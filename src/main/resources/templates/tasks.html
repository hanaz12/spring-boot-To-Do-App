<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
	crossorigin="anonymous">

<title>Employee Directory</title>
</head>
  <style>
        .completed-task {
            text-decoration: line-through;
            color: gray;
        }
    </style>
<body>
<br>
<div class="text-center">
    <h1>Todo Application</h1>
</div>
<br>
<form action="#" th:action="@{/task/save}" th:object="${task}"
      method="POST">

    <div class="input-group mb-3">
  <input type="text"  th:field="*{title}" class="form-control" placeholder="Have a new task?" aria-label="Recipient's username" aria-describedby="button-addon2">
        <input type="hidden" th:field="*{id}" />
        <input type="hidden" th:field="*{status}" th:value="'not'" />
  <button class="btn btn-primary" type="submit" id="button-addon2">Add to your list</button>
</div>
</form>

<br> 
<ul class="list-group">
    <li th:each="task : ${tasks}" class="list-group-item d-flex justify-content-between align-items-center">
 <span th:if="${task.status.toString()== 'completed'}">
    <del>[[${task.title}]]</del>
</span>
<span th:unless="${task.status.toString()== 'completed'}">
    [[${task.title}]]
</span>
        <div>
            <a class="btn btn-outline-secondary" th:href="@{/task/toggle/{id}(id=${task.id})}">Toggle</a>
            <a class="btn btn-danger btn-sm" th:href="@{/task/delete/{id}(id=${task.id})}">Delete</a>
        </div>
    </li>
</ul>

</body>
</html>